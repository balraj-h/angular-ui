<div class="add-user-container">
  <h3>{{ title }}</h3>
  <form [formGroup]="userForm">
    <div class="form-group">
      <label for="firstName">First Name</label>
      <input
        type="text"
        class="form-control"
        formControlName="firstName"
        required
        id="firstName"
      />
      <div
        class="form-control-feedback"
        *ngIf="
          userForm.controls.firstName.errors &&
          (userForm.controls.firstName.dirty ||
            userForm.controls.firstName.touched)
        "
      >
        <div *ngIf="userForm.controls.firstName.errors.required">
          First Name is required
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="lastName">Last Name</label>
      <input
        type="text"
        class="form-control"
        formControlName="lastName"
        required
        id="lastName"
      />
      <div
        class="form-control-feedback"
        *ngIf="
          userForm.controls.lastName.errors &&
          (userForm.controls.lastName.dirty ||
            userForm.controls.lastName.touched)
        "
      >
        <p *ngIf="userForm.controls.lastName.errors.required">
          Last Name is required
        </p>
      </div>
    </div>

    <div class="form-group">
      <label for="emailId">Email ID</label>
      <input
        type="text"
        class="form-control"
        formControlName="emailId"
        required
        id="emailId"
      />
      <div
        class="form-control-feedback"
        *ngIf="
          userForm.controls.emailId.errors &&
          (userForm.controls.emailId.dirty || userForm.controls.emailId.touched)
        "
      >
        <p *ngIf="userForm.controls.emailId.errors.required">
          Email Id is required
        </p>
        <p *ngIf="userForm.controls.emailId.errors.pattern">
          Email Id is not valid
        </p>
      </div>
    </div>

    <div class="form-group">
      <label for="password">Password</label>
      <input
        type="text"
        class="form-control"
        formControlName="password"
        required
        id="password"
      />
      <div
        class="form-control-feedback"
        *ngIf="
          userForm.controls.password.errors &&
          (userForm.controls.password.dirty ||
            userForm.controls.password.touched)
        "
      >
        <p *ngIf="userForm.controls.password.errors.required">
          Password is required
        </p>
      </div>
    </div>

    <div class="form-group">
      <label for="role">Role</label>
      <select class="form-control" formControlName="role" required id="role">
        <option value="user">User</option>
        <option value="guide">Guide</option>
        <option value="admin">Admin</option>
      </select>
      <div
        class="form-control-feedback"
        *ngIf="
          userForm.controls.role.errors &&
          (userForm.controls.role.dirty || userForm.controls.role.touched)
        "
      >
        <p *ngIf="userForm.controls.role.errors.required">Role is required</p>
      </div>
    </div>

    <div class="btn-container">
      <button
        mat-button
        (click)="addUser()"
        [disabled]="userForm.invalid"
        *ngIf="!isEditMode"
      >
        Add
      </button>
      <button
        mat-button
        (click)="editUser()"
        [disabled]="userForm.invalid"
        *ngIf="isEditMode"
      >
        Update
      </button>
    </div>
  </form>
</div>
